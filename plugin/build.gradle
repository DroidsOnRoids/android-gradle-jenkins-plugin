plugins {
	id 'com.gradle.plugin-publish' version '0.9.5'
}
apply plugin: 'maven-publish'
apply plugin: 'jacoco'
apply plugin: 'java-gradle-plugin'

dependencies {
	compile gradleApi()
	testCompile gradleTestKit()
	testCompile 'org.assertj:assertj-core:3.5.2'
	testCompile 'org.mockito:mockito-core:2.1.0-beta.120'
}

group = GROUP
version = VERSION_NAME

pluginBundle {
	website = POM_URL
	vcsUrl = POM_SCM_URL
	description = POM_DESCRIPTION
	tags = ['jenkins', 'android', 'ci']

	plugins {
		jenkinsPlugin {
			id = 'pl.droidsonroids.jenkins'
			displayName = POM_NAME
			description = POM_DESCRIPTION
		}
	}
}

publishing {
	repositories {
		mavenLocal()
	}
	publications {
		mavenJava(MavenPublication) {
			from components.java
		}
	}
}

jacocoTestReport {
	reports {
		xml.enabled true
		csv.enabled false
		html.enabled true
	}
}